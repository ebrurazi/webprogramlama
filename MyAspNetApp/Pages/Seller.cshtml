@page
@model MyAspNetApp.Pages.SellerModel

@{
    ViewData["Title"] = "Satıcı Sayfası";
}

<h2>@ViewData["Title"]</h2>

<form method="post" id="productForm">
    <div class="form-group">
        <label for="productName">Ürün Adı</label>
        <input type="text" class="form-control" id="productName" name="productName" required>
    </div>
    <div class="form-group">
        <label for="productPrice">Ürün Fiyatı</label>
        <input type="number" class="form-control" id="productPrice" name="productPrice" required>
    </div>
    <button type="button" class="btn btn-primary" onclick="addProduct()">Ürünü Kaydet</button>
</form>

<script>
    async function addProduct() {
        const productName = document.getElementById('productName').value;
        const productPrice = document.getElementById('productPrice').value;
        
        const response = await fetch('/api/products', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ name: productName, price: parseFloat(productPrice) }),
        });

        const result = await response.json();
        console.log(result);
    }
</script>
